{"version":3,"sources":["components/Navbar/Navbar.tsx","components/Layout/Layout.tsx","pages/Expense.tsx","hooks/useAuthenticator.tsx"],"names":["Topbar","styled","AppBar","ContentRight","div","Logo","img","ProfileImg","rhythm","DisplayName","span","Ol","ol","Li","li","Link","NavLink","Navbar","useUser","data","mutate","authenticate","useAuthenticator","useState","anchorEl","setAnchorEl","open","Boolean","elevation","Container","maxWidth","Toolbar","Grid","container","alignItems","item","lg","md","src","loading","alt","to","picture_url","display_name","IconButton","size","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","color","ExpandMore","Menu","id","keepMounted","onClose","MenuItem","console","log","ListItemIcon","PersonOutline","fontSize","LogOut","ExitToApp","Layout","children","Expense","useEffect","document","title","BASE_URL","process","AuthAPI","axios","create","baseURL","withCredentials","provider","a","window","location","href","get","LogIn"],"mappings":"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","file":"static/js/5.5d6b5f98.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Grid,\r\n  Container,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n} from '@material-ui/core';\r\nimport {\r\n  ExpandMore as ExpandMoreIcon,\r\n  ExitToApp as ExitToAppIcon,\r\n  PersonOutline as PersonOutlineIcon,\r\n} from '@material-ui/icons';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from '@emotion/styled';\r\nimport useUser from 'src/hooks/useUser';\r\nimport useAuthenticator from 'src/hooks/useAuthenticator';\r\nimport { rhythm } from 'src/utils';\r\n\r\nconst Topbar = styled(AppBar)`\r\n  color: var(--lightest-slate) !important;\r\n  background-color: var(--navy) !important;\r\n  backdrop-filter: blur(10px);\r\n  pointer-events: auto !important;\r\n  user-select: auto !important;\r\n`;\r\nconst ContentRight = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  object-fit: cover;\r\n  object-position: center center;\r\n  width: 64px;\r\n  height: 64px;\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst ProfileImg = styled.img`\r\n  height: 32px;\r\n  width: 32px;\r\n  border-radius: 100%;\r\n  margin-bottom: 0px;\r\n  margin-left: ${rhythm(2)};\r\n`;\r\n\r\nconst DisplayName = styled.span`\r\n  margin-left: ${rhythm(0.5)};\r\n  color: var(--lightest-slate);\r\n`;\r\n\r\nconst Ol = styled.ol`\r\n  padding: 0px;\r\n  margin: 0px;\r\n  list-style: none;\r\n`;\r\n\r\nconst Li = styled.li`\r\n  margin: 0px 5px;\r\n  position: relative;\r\n  color: var(--lightest-slate) !important;\r\n`;\r\n\r\nconst Link = styled(NavLink)`\r\n  display: inline-block;\r\n  text-decoration: none;\r\n  text-decoration-skip-ink: auto;\r\n  color: inherit;\r\n  position: relative;\r\n  counter-increment: item 1;\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: var(--green);\r\n  }\r\n  &:before {\r\n    content: '0' counter(item) '.';\r\n    margin-right: 5px;\r\n    color: var(--green);\r\n    text-align: right;\r\n  }\r\n`;\r\nexport function Navbar() {\r\n  const { data, mutate } = useUser();\r\n  const authenticate = useAuthenticator();\r\n\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  function handleLogOut() {\r\n    authenticate.LogOut();\r\n    mutate(() => {\r\n      return { display_name: '', picture_url: '' };\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Topbar elevation={0}>\r\n      <Container maxWidth=\"xl\">\r\n        <Toolbar>\r\n          <Grid container alignItems=\"center\">\r\n            <Grid item lg={6} md={6}>\r\n              <div>\r\n                <Logo\r\n                  src={'/logo64x64.png'}\r\n                  loading=\"lazy\"\r\n                  alt=\"GodKoz Money Book\"\r\n                />\r\n              </div>\r\n            </Grid>\r\n            <Grid item lg={6} md={6}>\r\n              <ContentRight>\r\n                <Ol>\r\n                  <Li>\r\n                    <Link to=\"/\">ภาพรวม</Link>\r\n                    <Link to=\"/expense\">รายรับรายจ่าย</Link>\r\n                  </Li>\r\n                </Ol>\r\n                <ProfileImg src={data?.picture_url} loading=\"lazy\" />\r\n                <DisplayName>{data?.display_name}</DisplayName>\r\n                <IconButton\r\n                  size=\"medium\"\r\n                  aria-label=\"more\"\r\n                  aria-controls=\"profile-menu\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleClick}\r\n                  color=\"primary\"\r\n                >\r\n                  <ExpandMoreIcon />\r\n                </IconButton>\r\n                <Menu\r\n                  id=\"profile-menu\"\r\n                  anchorEl={anchorEl}\r\n                  keepMounted\r\n                  open={open}\r\n                  onClose={handleClose}\r\n                >\r\n                  <MenuItem\r\n                    onClick={() => {\r\n                      console.log('แก้ไขโปรไฟล์');\r\n                    }}\r\n                  >\r\n                    <ListItemIcon>\r\n                      <PersonOutlineIcon fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    แก้ไขโปรไฟล์\r\n                  </MenuItem>\r\n                  <MenuItem onClick={handleLogOut}>\r\n                    <ListItemIcon>\r\n                      <ExitToAppIcon fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    ออกจากระบบ\r\n                  </MenuItem>\r\n                </Menu>\r\n              </ContentRight>\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </Container>\r\n    </Topbar>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { Toolbar, Container } from '@material-ui/core';\r\nimport Navbar from 'src/components/Navbar';\r\n\r\nexport function Layout({ children }: any) {\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Toolbar />\r\n      <Toolbar />\r\n      <main>\r\n        <Container maxWidth=\"md\">{children}</Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const MemorizedLayout = React.memo(Layout);\r\nexport default Layout;\r\n","import React, { useEffect } from 'react';\r\nimport { Layout } from 'src/components';\r\n\r\nexport function Expense() {\r\n  useEffect(() => {\r\n    document.title = 'รายรับรายจ่าย | Godkoz Money Book';\r\n  }, []);\r\n  return <Layout>Expense</Layout>;\r\n}\r\n\r\nexport default Expense;\r\n","import axios from 'axios';\r\n\r\nexport function useAuthenticator() {\r\n  const BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n  const AuthAPI = axios.create({\r\n    baseURL: BASE_URL + '/api/v1/auth',\r\n    withCredentials: true,\r\n  });\r\n\r\n  async function LogIn(provider: 'facebook' | 'google' | 'line') {\r\n    return (window.location.href = `${BASE_URL}/api/v1/auth/${provider}`);\r\n  }\r\n\r\n  async function LogOut() {\r\n    try {\r\n      await AuthAPI.get('/logout');\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  return {\r\n    LogIn,\r\n    LogOut,\r\n  };\r\n}\r\n\r\nexport default useAuthenticator;\r\n"],"sourceRoot":""}